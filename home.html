<!DOCTYPE html>
<!-- JSExVar.html -->
<html lang="en">

  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="styles.css">
    <title>Blackhawks Scoreboard</title>
  </head>

  <body>
    <h1>Scoreboard</h1>


    <h3 id='period'>Status: Not Started</h3><h3 id='timeRemaining'></h3>

    <div id='root'>
    <table id="scores">
      <tr>
        <th id="team">Team</th>
        <th>Period 1</th>
        <th>Period 2</th>
        <th>Period 3</th>
        <th>Score</th>
      </tr>
      <tr>
        <td id="home-team" div="teamName"></td>
        <td id="home-1" ></td>
        <td id="home-2" ></td>
        <td id="home-3" ></td>
        <td id="homeScore"></td>
      </tr>
      <tr>
        <td id="away-team" div="teamName"></td>
        <td id="away-1" ></td>
        <td id="away-2" ></td>
        <td id="away-3" ></td>
        <td id="awayScore"></td>
      </tr>
    </table>
    </div>

    <script language="javascript" type="text/javascript">

      fetch('https://statsapi.web.nhl.com/api/v1/game/2019020622/feed/live')
        .then(response=> {
          return response.json();
        })
        .then(data=> {
          document.getElementById('home-team').innerHTML = data.gameData.teams.home.teamName;
          document.getElementById('away-team').innerHTML = data.gameData.teams.away.teamName;


          if (data.gameData.status.detailedState == 'Scheduled') {
            document.getElementById('timeRemaining').innerHTML = 'Game Time: ' + data.gameData.datetime.dateTime;
          } else {
            document.getElementById('timeRemaining').innerHTML = 'Time Remaining: ' + data.liveData.plays.currentPlay.about.periodTimeRemaining;
            document.getElementById('period').innerHTML = 'Period: ' + data.liveData.linescore.currentPeriod;
          }

          document.getElementById('home-1').innerHTML = data.liveData.linescore.periods[0].home.goals;
          document.getElementById('home-2').innerHTML = data.liveData.linescore.periods[1].home.goals;
          document.getElementById('home-3').innerHTML = data.liveData.linescore.periods[2].home.goals;

          document.getElementById('away-1').innerHTML = data.liveData.linescore.periods[0].away.goals;
          document.getElementById('away-2').innerHTML = data.liveData.linescore.periods[1].away.goals;
          document.getElementById('away-3').innerHTML = data.liveData.linescore.periods[2].away.goals;

          homeSum = data.liveData.linescore.periods[0].home.goals + data.liveData.linescore.periods[1].home.goals + data.liveData.linescore.periods[2].home.goals;
          awaySum = data.liveData.linescore.periods[0].away.goals + data.liveData.linescore.periods[1].away.goals + data.liveData.linescore.periods[2].away.goals;

          document.getElementById('homeScore').innerHTML = homeSum;
          document.getElementById('awayScore').innerHTML = awaySum;
        });

    </script>


  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

  </body>
</html>

